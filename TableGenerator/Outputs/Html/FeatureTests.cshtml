@using System.Linq
@inherits DependencyInjection.TableGenerator.Outputs.Html.HtmlTemplateBase<System.Collections.Generic.IEnumerable<DependencyInjection.TableGenerator.Data.FeatureTable>>

<!DOCTYPE html>
@* Metanote: Ignore the following note in Razor template, it is only relevant to the result. *@
<!-- Note: This file has been generated by TableGenerator and should not be edited manually. -->
<html>
  <head>
    <title>Dependency Injection Feature Tests (.NET)</title>
    <link rel='stylesheet' href='FeatureTests.css' />
  </head>
  <body>
    <div class='note-firefox'>Note: CSS used in this file is not supported by Firefox due to <a href='https://bugzilla.mozilla.org/show_bug.cgi?id=35168'>Bug 35168</a> (13 years, really?).</div>
    
    <div class="content">
      <h1>Dependency Injection Feature Tests (.NET)</h1>

      @foreach (var table in Model) {
      <section>
        <h2>@table.Name</h2>
        <div class="description">@table.Description</div>
        
        @{ var featuresWithDescription = table.Features.Where(f => !string.IsNullOrEmpty(f.Description)).ToArray(); }
        @if (featuresWithDescription.Any()) {
          <dl>
            @foreach (var feature in featuresWithDescription) {
              <dt>@feature.Name</dt>
              <dd>@feature.Description</dd>
            }
          </dl>
        }

        <table>
          <tr>
            <th>Framework</th>
            @foreach (var feature in table.Features) {
              <th>@feature.Name</th>
            }
          </tr>
          @foreach (var row in table.GetRows()) {
          <tr>
            <td>@row.Item1.FrameworkName</td>
            @foreach (var cell in row.Item2) {
              var stateClass = cell.State.ToString().ToLowerInvariant();
              if (string.IsNullOrEmpty(cell.Comment)) {
                <td class="@stateClass">@cell.Text</td>
              }
              else {
                <td class="@stateClass with-comment">@cell.Text<div class="comment">@cell.Comment</div></td>
              }
            }
          </tr>
          }
        </table>
      </section>
      }
    </div>
  </body>
</html>