<!DOCTYPE html>
<html>
  <head>
    <title>.NET DI Feature Tests</title>
    <link rel='stylesheet' href='FeatureTests.css' />
  </head>
  <body>
    <div class='note-firefox'>Note: CSS used in this file is not supported by Firefox due to <a href='https://bugzilla.mozilla.org/show_bug.cgi?id=35168'>Bug 35168</a> (13 years, really?).</div>
    <div class='note'>Note: This file has been generated by TableGenerator and should not be edited manually.</div>
    <table>
      <caption class=''>Essential functionality</caption>
      <tr>
        <th>Framework</th>
        <th class=''>Register/resolve independent service</th>
        <th class=''>Register/resolve independent service registered as itself</th>
        <th class=''>Singleton lifetime</th>
        <th class=''>Transient lifetime</th>
        <th class=''>Register/resolve instance</th>
        <th class=''>Resolve constructor dependency</th>
        <th class=''>Resolve constructor dependency using instance</th>
      </tr>
      <tr>
        <td>Autofac</td>
        <td class='success'>supported</td>
        <td class='success'>supported</td>
        <td class='success'>supported</td>
        <td class='success'>supported</td>
        <td class='success'>supported</td>
        <td class='success'>supported</td>
        <td class='success'>supported</td>
      </tr>
      <tr>
        <td>Castle</td>
        <td class='success'>supported</td>
        <td class='success'>supported</td>
        <td class='success'>supported</td>
        <td class='success'>supported</td>
        <td class='success'>supported</td>
        <td class='success'>supported</td>
        <td class='success'>supported</td>
      </tr>
      <tr>
        <td>LinFu</td>
        <td class='success'>supported</td>
        <td class='success'>supported</td>
        <td class='success'>supported</td>
        <td class='success'>supported</td>
        <td class='success'>supported</td>
        <td class='success'>supported</td>
        <td class='success'>supported</td>
      </tr>
      <tr>
        <td>Ninject</td>
        <td class='success'>supported</td>
        <td class='success'>supported</td>
        <td class='success'>supported</td>
        <td class='success'>supported</td>
        <td class='success'>supported</td>
        <td class='success'>supported</td>
        <td class='success'>supported</td>
      </tr>
      <tr>
        <td>StructureMap</td>
        <td class='success'>supported</td>
        <td class='success'>supported</td>
        <td class='success'>supported</td>
        <td class='success'>supported</td>
        <td class='success'>supported</td>
        <td class='success'>supported</td>
        <td class='success'>supported</td>
      </tr>
      <tr>
        <td>Spring</td>
        <td class='success'>supported</td>
        <td class='success'>supported</td>
        <td class='success'>supported</td>
        <td class='success'>supported</td>
        <td class='success'>supported</td>
        <td class='success'>supported</td>
        <td class='success'>supported</td>
      </tr>
      <tr>
        <td>Unity</td>
        <td class='success'>supported</td>
        <td class='success'>supported</td>
        <td class='success'>supported</td>
        <td class='success'>supported</td>
        <td class='success'>supported</td>
        <td class='success'>supported</td>
        <td class='success'>supported</td>
      </tr>
    </table>
    <table>
      <caption class=' with-details'>List/array dependencies<div class='details'>When several registrations of IService exist in a container, many frameworks automatically provide TService[] (or List&lt;TService&gt; etc).

This is extremely important for open/closed principle. For example, UserValidator can have dependency on IUserValidationRule[]. Then new rules can be transparently added to the system without any changes to UserValidator.</div></caption>
      <tr>
        <th>Framework</th>
        <th class=''>Constructor dependency</th>
        <th class=''>Property dependency</th>
      </tr>
      <tr>
        <td>Autofac</td>
        <td class='success'>supported</td>
        <td class='success'>supported</td>
      </tr>
      <tr>
        <td>Castle</td>
        <td class='failure with-details'>failed<div class='details'>Can&#39;t create component &#39;DependencyInjection.FeatureTests.TestTypes.ServiceWithArrayConstructorDependency&#39; as it has dependencies to be satisfied.

&#39;DependencyInjection.FeatureTests.TestTypes.ServiceWithArrayConstructorDependency&#39; is waiting for the following dependencies: - Service &#39;DependencyInjection.FeatureTests.TestTypes.IService[]&#39; which was not registered.</div></td>
        <td class='failure with-details'>failed<div class='details'>Assert.NotNull() Failure</div></td>
      </tr>
      <tr>
        <td>LinFu</td>
        <td class='success'>supported</td>
        <td class='success'>supported</td>
      </tr>
      <tr>
        <td>Ninject</td>
        <td class='success'>supported</td>
        <td class='success'>supported</td>
      </tr>
      <tr>
        <td>StructureMap</td>
        <td class='success'>supported</td>
        <td class='success'>supported</td>
      </tr>
      <tr>
        <td>Spring</td>
        <td class='success'>supported</td>
        <td class='failure with-details'>failed<div class='details'>Assert.NotNull() Failure</div></td>
      </tr>
      <tr>
        <td>Unity</td>
        <td class='failure with-details'>failed<div class='details'>Assert.Equal() Failure Expected: 1 Actual: 0</div></td>
        <td class='failure with-details'>failed<div class='details'>Assert.Equal() Failure Expected: 1 Actual: 0</div></td>
      </tr>
    </table>
    <table>
      <caption class=''>Generics support</caption>
      <tr>
        <th>Framework</th>
        <th class=' with-details'>Open generic registration<div class='details'>Allows registration of open generic types.

For example Service&lt;&gt; can be registered as IService&lt;&gt;. Then any request for IService&lt;T&gt; should be resolved with Service&lt;T&gt;.</div></th>
      </tr>
      <tr>
        <td>Autofac</td>
        <td class='success'>supported</td>
      </tr>
      <tr>
        <td>Castle</td>
        <td class='success'>supported</td>
      </tr>
      <tr>
        <td>LinFu</td>
        <td class='success'>supported</td>
      </tr>
      <tr>
        <td>Ninject</td>
        <td class='success'>supported</td>
      </tr>
      <tr>
        <td>StructureMap</td>
        <td class='success'>supported</td>
      </tr>
      <tr>
        <td>Spring</td>
        <td class='failure with-details'>failed<div class='details'>Sequence contains no elements</div></td>
      </tr>
      <tr>
        <td>Unity</td>
        <td class='success'>supported</td>
      </tr>
    </table>
    <table>
      <caption class=' with-details'>Automatic factories (Func&lt;TService&gt;)<div class='details'>When TService is registered in a container, many frameworks automatically provide Func&lt;..., TService&gt;.

This is very useful for mixing lifetimes: for example, singleton (Service) may have a Func dependency on transient (DataContext), which allows it to get/dispose a new instance of transient when it is needed.</div></caption>
      <tr>
        <th>Framework</th>
        <th class=' with-details'>No parameters<div class='details'>Registration of TService automatically provides Func&lt;TService&gt;.</div></th>
        <th class=' with-details'>Parameter for dependency<div class='details'>Registration of TService automatically provides Func&lt;..., TService&gt;, where any arguments to the factory define constructor parameter overrides.

For example, registration Service(IService1, IService2) can provide Func&lt;IService2, Service&gt; or Func&lt;IService1, Service&gt; or Func&lt;IService1, Service2, Service&gt;. Remaining parameters are provided by the container.</div></th>
        <th class=' with-details'>Singleton using transient<div class='details'>When TService is transient and Func&lt;TService&gt; was obtained by singleton, Func should return new instance on each call.</div></th>
      </tr>
      <tr>
        <td>Autofac</td>
        <td class='success'>supported</td>
        <td class='success'>supported</td>
        <td class='success'>supported</td>
      </tr>
      <tr>
        <td>Castle</td>
        <td class='failure with-details'>failed<div class='details'>No component for supporting the service System.Func`1[[DependencyInjection.FeatureTests.TestTypes.ServiceWithSimpleConstructorDependency, DependencyInjection.FeatureTests, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] was found</div></td>
        <td class='failure with-details'>failed<div class='details'>No component for supporting the service System.Func`2[[DependencyInjection.FeatureTests.TestTypes.IService2, DependencyInjection.FeatureTests, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[DependencyInjection.FeatureTests.TestTypes.ServiceWithTwoConstructorDependencies, DependencyInjection.FeatureTests, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] was found</div></td>
        <td class='failure with-details'>failed<div class='details'>Can&#39;t create component &#39;DependencyInjection.FeatureTests.TestTypes.ServiceWithFuncConstructorDependency&#39; as it has dependencies to be satisfied.

&#39;DependencyInjection.FeatureTests.TestTypes.ServiceWithFuncConstructorDependency&#39; is waiting for the following dependencies: - Service &#39;System.Func`1[[DependencyInjection.FeatureTests.TestTypes.IService, DependencyInjection.FeatureTests, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]&#39; which was not registered.</div></td>
      </tr>
      <tr>
        <td>LinFu</td>
        <td class='failure with-details'>failed<div class='details'>Service type &#39;System.Func`1[[DependencyInjection.FeatureTests.TestTypes.ServiceWithSimpleConstructorDependency, DependencyInjection.FeatureTests, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089&#39; not found</div></td>
        <td class='failure with-details'>failed<div class='details'>Service type &#39;System.Func`2[[DependencyInjection.FeatureTests.TestTypes.IService2, DependencyInjection.FeatureTests, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[DependencyInjection.FeatureTests.TestTypes.ServiceWithTwoConstructorDependencies, DependencyInjection.FeatureTests, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089&#39; not found</div></td>
        <td class='failure with-details'>failed<div class='details'>Constructor on type &#39;DependencyInjection.FeatureTests.TestTypes.ServiceWithFuncConstructorDependency&#39; not found.</div></td>
      </tr>
      <tr>
        <td>Ninject</td>
        <td class='neutral with-details'>see comment<div class='details'>Ninject supports this through Ninject.Extensions.Factory, but attempts to install it from NuGet clash with Castle version.</div></td>
        <td class='neutral with-details'>see comment<div class='details'>Ninject supports this through Ninject.Extensions.Factory, but attempts to install it from NuGet clash with Castle version.</div></td>
        <td class='neutral with-details'>see comment<div class='details'>Ninject supports this through Ninject.Extensions.Factory, but attempts to install it from NuGet clash with Castle version.</div></td>
      </tr>
      <tr>
        <td>StructureMap</td>
        <td class='success'>supported</td>
        <td class='failure with-details'>failed<div class='details'>StructureMap Exception Code: 202 No Default Instance defined for PluginFamily System.Func`2[[DependencyInjection.FeatureTests.TestTypes.IService2, DependencyInjection.FeatureTests, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[DependencyInjection.FeatureTests.TestTypes.ServiceWithTwoConstructorDependencies, DependencyInjection.FeatureTests, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089</div></td>
        <td class='success'>supported</td>
      </tr>
      <tr>
        <td>Spring</td>
        <td class='failure with-details'>failed<div class='details'>Sequence contains no elements</div></td>
        <td class='failure with-details'>failed<div class='details'>Sequence contains no elements</div></td>
        <td class='failure with-details'>failed<div class='details'>Error creating object with name &#39;DependencyInjection.FeatureTests.TestTypes.ServiceWithFuncConstructorDependency (DependencyInjection.FeatureTests.TestTypes.ServiceWithFuncConstructorDependency)&#39; : Unsatisfied dependency expressed through constructor argument with index 0 of type [System.Func`1[DependencyInjection.FeatureTests.TestTypes.IService]] : No unique object of type [System.Func`1[[DependencyInjection.FeatureTests.TestTypes.IService, DependencyInjection.FeatureTests, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]] is defined : Unsatisfied dependency of type [System.Func`1[DependencyInjection.FeatureTests.TestTypes.IService]]: expected at least 1 matching object to wire the [factory] parameter on the constructor of object [DependencyInjection.FeatureTests.TestTypes.ServiceWithFuncConstructorDependency (DependencyInjection.FeatureTests.TestTypes.ServiceWithFuncConstructorDependency)]</div></td>
      </tr>
      <tr>
        <td>Unity</td>
        <td class='success'>supported</td>
        <td class='failure with-details'>failed<div class='details'>Resolution of the dependency failed, type = &quot;System.Func`2[DependencyInjection.FeatureTests.TestTypes.IService2,DependencyInjection.FeatureTests.TestTypes.ServiceWithTwoConstructorDependencies]&quot;, name = &quot;(none)&quot;. Exception occurred while: while resolving. Exception is: VerificationException - Operation could destabilize the runtime. ----------------------------------------------- At the time of the exception, the container was:

Resolving System.Func`2[DependencyInjection.FeatureTests.TestTypes.IService2,DependencyInjection.FeatureTests.TestTypes.ServiceWithTwoConstructorDependencies],(none)</div></td>
        <td class='success'>supported</td>
      </tr>
    </table>
    <table>
      <caption class=''>Property dependencies</caption>
      <tr>
        <th>Framework</th>
        <th class=''>Simple dependency</th>
        <th class=''>Optional by default</th>
      </tr>
      <tr>
        <td>Autofac</td>
        <td class='success'>supported</td>
        <td class='success'>supported</td>
      </tr>
      <tr>
        <td>Castle</td>
        <td class='success'>supported</td>
        <td class='success'>supported</td>
      </tr>
      <tr>
        <td>LinFu</td>
        <td class='success'>supported</td>
        <td class='success'>supported</td>
      </tr>
      <tr>
        <td>Ninject</td>
        <td class='success'>supported</td>
        <td class='failure with-details'>failed<div class='details'>Error activating IService No matching bindings are available, and the type is not self-bindable. Activation path: 2) Injection of dependency IService into property Service of type ServiceWithSimplePropertyDependency 1) Request for ServiceWithSimplePropertyDependency

Suggestions: 1) Ensure that you have defined a binding for IService. 2) If the binding was defined in a module, ensure that the module has been loaded into the kernel. 3) Ensure you have not accidentally created more than one kernel. 4) If you are using constructor arguments, ensure that the parameter name matches the constructors parameter name. 5) If you are using automatic module loading, ensure the search path and filters are correct.</div></td>
      </tr>
      <tr>
        <td>StructureMap</td>
        <td class='success'>supported</td>
        <td class='failure with-details'>failed<div class='details'>StructureMap Exception Code: 202 No Default Instance defined for PluginFamily DependencyInjection.FeatureTests.TestTypes.IService, DependencyInjection.FeatureTests, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null</div></td>
      </tr>
      <tr>
        <td>Spring</td>
        <td class='success'>supported</td>
        <td class='success'>supported</td>
      </tr>
      <tr>
        <td>Unity</td>
        <td class='success'>supported</td>
        <td class='failure with-details'>failed<div class='details'>Resolution of the dependency failed, type = &quot;DependencyInjection.FeatureTests.TestTypes.ServiceWithSimplePropertyDependency&quot;, name = &quot;(none)&quot;. Exception occurred while: while resolving. Exception is: InvalidOperationException - The current type, DependencyInjection.FeatureTests.TestTypes.IService, is an interface and cannot be constructed. Are you missing a type mapping? ----------------------------------------------- At the time of the exception, the container was:

Resolving DependencyInjection.FeatureTests.TestTypes.ServiceWithSimplePropertyDependency,(none) Resolving value for property ServiceWithSimplePropertyDependency.Service Resolving DependencyInjection.FeatureTests.TestTypes.IService,(none)</div></td>
      </tr>
    </table>
    <table>
      <caption class=' with-details'>Convenience<div class='details'>Features that simplify development and reduce surprises.</div></caption>
      <tr>
        <th>Framework</th>
        <th class=' with-details'>Best constructor selection<div class='details'>If multiple constructors are present, DI framework should select the one that developer would have selected, having the same services. In this situation, it seems reasonable to select constructor with most resolvable dependencies.</div></th>
        <th class=' with-details'>Graceful recursion handling<div class='details'>Recursive dependencies are non-resolvable, however the difference between getting a StackOverflowException and any other one is significant.

StackOverflowException will crash the whole process, which is really undesirable, even if it is only an integration test environment. Debugging such issue can be a huge annoyance.</div></th>
        <th class=' with-details'>Graceful recursion handling (list dependency)<div class='details'>Same as &quot;Graceful recursion handling&quot; feature, but for list dependency.</div></th>
      </tr>
      <tr>
        <td>Autofac</td>
        <td class='success'>supported</td>
        <td class='success'>supported</td>
        <td class='failure with-details'>failed<div class='details'>Autofac fails list recursion for now, and we have no way to retest it in each run (without process crash).</div></td>
      </tr>
      <tr>
        <td>Castle</td>
        <td class='success'>supported</td>
        <td class='success'>supported</td>
        <td class='success'>supported</td>
      </tr>
      <tr>
        <td>LinFu</td>
        <td class='success'>supported</td>
        <td class='success'>supported</td>
        <td class='success'>supported</td>
      </tr>
      <tr>
        <td>Ninject</td>
        <td class='success'>supported</td>
        <td class='success'>supported</td>
        <td class='success'>supported</td>
      </tr>
      <tr>
        <td>StructureMap</td>
        <td class='failure with-details'>failed<div class='details'>StructureMap Exception Code: 202 No Default Instance defined for PluginFamily DependencyInjection.FeatureTests.TestTypes.IUnregisteredService, DependencyInjection.FeatureTests, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null</div></td>
        <td class='success'>supported</td>
        <td class='success'>supported</td>
      </tr>
      <tr>
        <td>Spring</td>
        <td class='failure with-details'>failed<div class='details'>Assert.Equal() Failure Position: First difference is at position 0 Expected: Most resolvable Actual: Default</div></td>
        <td class='success'>supported</td>
        <td class='success'>supported</td>
      </tr>
      <tr>
        <td>Unity</td>
        <td class='failure with-details'>failed<div class='details'>Resolution of the dependency failed, type = &quot;DependencyInjection.FeatureTests.TestTypes.ServiceWithMultipleConstructors&quot;, name = &quot;(none)&quot;. Exception occurred while: while resolving. Exception is: InvalidOperationException - The current type, DependencyInjection.FeatureTests.TestTypes.IUnregisteredService, is an interface and cannot be constructed. Are you missing a type mapping? ----------------------------------------------- At the time of the exception, the container was:

Resolving DependencyInjection.FeatureTests.TestTypes.ServiceWithMultipleConstructors,(none) Resolving parameter &quot;service2&quot; of constructor DependencyInjection.FeatureTests.TestTypes.ServiceWithMultipleConstructors(DependencyInjection.FeatureTests.TestTypes.IService service1, DependencyInjection.FeatureTests.TestTypes.IUnregisteredService service2) Resolving DependencyInjection.FeatureTests.TestTypes.IUnregisteredService,(none)</div></td>
        <td class='failure with-details'>failed<div class='details'>Unity fails recursion for now, and we have no way to retest it in each run (without process crash).</div></td>
        <td class='failure with-details'>failed<div class='details'>Unity fails recursion for now, and we have no way to retest it in each run (without process crash).</div></td>
      </tr>
    </table>
  </body>
</html>
